listeners:
  - protocol: http
    port: 8080
    ssl_certificate: test-value
    ssl_certificate_key: test-value
    routes:
      - routeprefix: "/"
        id: "root-default"
        mode: "RoundRobin"
        customHeaders:
          - method: "any"
            headers:
              - name: "Forwarded-Protocol"
                value: "[[protocol]]"
              - name: "Forwarded-Host"
                value: "[[client.host]]"
              - name: "Forwarded-tls"
                value: "[[tls.version]]"
              - name: "Custom-Header"
                value: "custom-value"
              - name: "Forwarded-By"
                value: "[[balancer.id]]"
        targets: 
          - address: http://localhost:8091
          - address: http://localhost:8092
          - address: http://localhost:8093
        TargetWaitTimeout: 10
      - routeprefix: "/orders"
        id: "orders"
        mode: "RoundRobin"
        targets: 
          - address: http://localhost:8092
          - address: http://localhost:8094
          - address: http://localhost:8096
      - routeprefix: "/health"
        id: "health"
        mode: "RoundRobin"
        targets: 
          - address: http://localhost:8091
          - address: http://localhost:8093
          - address: http://localhost:8095
  - protocol: http
    port: 8081
    ssl_certificate:
    ssl_certificate_key:
    routes:
      - routeprefix: "/"
        id: "secondary-root"
        mode: "RoundRobin"
        targets:
          - address: http://localhost:8091
          - address: http://localhost:8096